---
title: Getting Started in Unreal
series: "Getting Started in Unreal series"
weight: 1
sidebar: main_sidebar_0_10_1
keywords: hand, object, avatar, install, quickstart
permalink: unreal_get_started.0.10.1.html
folder: mydoc
toc: false
---

## [THIS PAGE IS OUTDATED]

### Installing the Unreal Engine plugin 

<!-- Download the Unreal plugin from the Drive folder //VirtualGrasp Packages/Unreal//, see Figure below. -->

{% include image.html file="unreal/unreal_install.png" alt="Unreal Plugin Install" caption="Unreal Plugin Install." %}

It is strongly recommended to use the plugin as an Engine Plugin, which means unpacking it in the Unreal Engine folder, such as UE_4.21\Engine\Plugins\Runtime. You will then be able to directly use the plugin during development in the Unreal editor.

You can use it as a Project Plugin (i.e. placed into your project folder under Plugins), too, but (a) this means you would need to manage multiple copies (for multiple projects), and (b) you cannot package your project into a functional executable (which means you can only run it in the editor).

Open your project and go to Edit➝Plugins. Find the VirtualGraspPlugin and enable it.

You also have to disable the OculusVR plugin as it is conflicting with OpenVR (it will affect how your HMD is setup, will block controller button inputs, etc). Restart Unreal as required. To test integration of the plugin, you may want to duplicate your main scene.

### Getting started

Check if you can see a VirtualGraspPlugin Content folder just besides the common Content folder in your Content Browser. If not, in your content browser, go to “View Options” and enable Show Plugin Content. This allows you to see not only your project’s Content folder, but also all local plugins’ content folders. Drag and drop the VG_MyVirtualGrasp blueprint from the VirtualGraspPlugin Content into your scene. In your World Outliner, you will see the instantiated blueprint actor called VG_MyVirtualGrasp.

When you play your scene, you should see some messages produced by the plugin in the Output Log. If you can’t see the Output Log, enable it through Window➝Developer Tools➝Output Log. Nothing will move yet, but you can see if the plugin was successfully initialized.

NOTE: whenever something related to the VirtualGrasp plugin does not work as expected, first have a look at the Output Log. In most cases, we can identify the problems here through error messages that are generated by the plugin. See  to understand how to interpret messages.

### Setting up the hands (model)

Check out VG_MyVirtualGrasp’s components by selecting it in the World Outliner and have a look at its Details tab.

In the second component, PoseableMesh, you can configure the hand model. You can change it by simply dragging any SkeletalMesh that is in your project into the Mesh/SkeletalMesh slot of PoseableMesh.

Note that there restrictions on which kind of skeletons are supported, but those will not be discussed here. Any hand that follows Unreal’s SK_Mannequin_Arms model is supported, and we recommend you to start with that one.

### Setting up the hands (sensor control)

In the first component attached to VG_MyVirtualGrasp, called VG_SensorConfiguration, you can configure the sensors. VG_SensorConfiguration is by default configured to listen to the LeapMotion sensor. If you are using a VR set, change the Sensor in the SensorSetups of VG_SensorConfiguration from LEAP to OCULUS_TOUCH_OPENVR (since it’s openvr, it will also work for the HTC Vive or the MIcrosoft HMD).

Each sensor needs an origin. Add an empty actor (you can do that by enabling the Window➝Modes window, and drag and drop an empty actor into your scene). Give it a useful name such as “VG_Origin_OpenVR.” You have to adjust the rotation and scale specifically for your sensor, in the Transform section of the just created actor. In our demo scene using OpenVR, set the rotation to (-90, 0, -90), and the scale to (100,100,100). (for the LeapMotion, use rotation (-90,0,0) and scale (0.1, 0.1, 0.1)).

If you want the origin to follow a dynamic origin (which is needed when using the LeapMotion mounted on a VR headset, or VR teleportation), you have to attach the origin under your pawn actor, and enable “dynamic origin” in the SensorSetup.

If you do not have a pawn in your scene, we recommend you to add a PlayerStart actor (also available in Window➝Modes) and attach the origin to that one. This is also recommended to have always the same starting point when playing (instead of your current editing view in the Unreal Editor).

Back in your SensorSetup, set the just created origin actor as the Origin.

When playing, you should now see your hands move and react to the sensor movement as well as to buttons on your controller. If the hand does not react to button pushes, you probably have not deactivated the OculusVR plugin.

### Setting up an object

If you want to make an object interactable, you only need to tag it as an “Object”, i.e. add the component tag “Object” to the MeshComponent (in Tags/Component Tags). The Mobility of the Transform will be to set to “Movable” automatically during runtime.

IMPORTANT: Be sure to understand how VirtualGrasp is currently mapping objects, by reading the object identification section on .

### Setting up object articulation

Select the MeshComponent you want to articulate and attach a VG_Articulation component to it (by clicking on “Add Component” and picking the VG_Articulation component from the “VirtualGrasp” section).

An ArrowComponent called “pivot” is automatically attached to the VG_Articulation component to visually represent the axis of articulation (e.g. the axis of movement for a prismatic joint such as a drawer, or the axis of rotation for a rotational joint such as a door). Sometimes you need to build lighting in order to make the arrows appear. The pivot is only for visualization and not editable. To modify the center and direction of the articulation, adjust the transform of the VG_Articulation accordingly.

Not implemented in Unreal yet If you are using PHYSICAL_PUSH as the push method, you can additionally assign a push pivot in the same way you assign a pivot. The push pivot will define from which direction you can physically push the object. If you do not provide a different transform here, the push direction will be aligned with the pivot direction.

Set the different other parameters of the VG_Articulation to parameterize it: type of joint, minimum and maximum value, affordance, discrete states, screw rate, dual hand only etc. When you play the scene, the object should now behave according to the articulated constraints you configured.

### Enabling Highlighting

The object selection is by default VirtualGrasp’s internal object selection (other methods have been deactivated). The highlighting visualizing the object selection is based on http://www.tomlooman.com/multi-color-outline-post-process-in-unreal-engine-4/ and the steps to enable highlighting are:

Go to Edit➝Project Settings➝Engine - Rendering➝Postprocessing and set it to “Enabled with Stencil.”; Copying the 2 outlining materials into your project;

Add a “Postprocess Volume” (Window>Modes) to your scene, and add the instance outline material under its “Post Process Materials”, and enable “Infinite Extent (Unbound)”.

When you play the scene, and reach towards an object, the object should now be highlighted with a colorful contour (different colors for different hands).

### A Word on Blueprints

If you find your VG_MyVirtualGrasp in the World Outliner, you can check the blueprint structure by clicking on “Edit VG_MyVirtualGrasp”, where the whole event graph and all major building blocks are briefly documented.

If you look into the major functions, you will see how they are composed by using VirtualGrasp plugin functions. The whole blueprint is fully functional and prepared as a default plugin that should be sufficient for most applications. If you need to add VirtualGrasp plugin functions into your own blueprints, you can access them through the “VirtualGrasp” section (right click anywhere on the blueprint board).